<template>
    <lightning-card title="Deal Desk Discount Validator">

        <div class="slds-m-around_medium">

            <lightning-input type="number" label="Enter Discount (%)" value={discount} onchange={handleDiscountChange}>
            </lightning-input>

            <lightning-button class="slds-m-top_small" label="Validate Deal" onclick={validateDeal} variant="brand">
            </lightning-button>

            <template if:true={showApprovalButton}>
                <lightning-button 
                    label="Submit for Approval"
                    onclick={submitForApproval}
                    class="slds-m-top_small"
                    variant="brand">
                </lightning-button>
            </template>


            <template if:true={result}>
                <div class="slds-m-top_medium">

                    <template if:true={isBlocked}>
                        <span class="badge badge-red">Blocked</span>
                    </template>

                    <template if:true={isApprovalNeeded}>
                        <span class="badge badge-yellow">Approval Needed</span>
                    </template>

                    <template if:true={isApproved}>
                        <span class="badge badge-green">Auto-Approved</span>
                    </template>

                    <p class="slds-m-top_small">{result.message}</p>
                </div>
            </template>

        </div>
    </lightning-card>
</template>